{{#if mutable}}
  <button class="btn new-pattern" type="button" {{action "create"}}>{{fa-icon "plus"}}<span>New</span></button>
{{/if}}
{{#each allPatterns as |pattern|}}
  <div class="pattern-wrapper">
    {{input
      type="textfield"
      class="pattern-input"
      placeholder="Enter regular expressionâ€¦"
      value=pattern.valueBuffer
      disabled=(or immutable pattern.saving)
    }}
    {{#if mutable}}
      {{#if pattern.hasBuffer}}
        <button disabled={{pattern.saving}} class="btn ok no-text save shrink" type="button" {{action "save" pattern}}>
          {{fa-icon "check"}}
        </button>
      {{/if}}
      <button disabled={{pattern.saving}} class="btn no-text trash shrink" type="button" {{action "trash" pattern}}>
        {{fa-icon "trash-alt"}}
      </button>
    {{/if}}

    {{#if showCounter}}
      <input disabled=true title="Number of logs that have been suppressed by this pattern" class="count shrink" value={{pattern.count}}>
      <button class="btn no-text reset shrink" title="Reset count of suppressed logs" disabled={{pattern.zeroCount}} type="button" {{action "resetCount" pattern}}>
        {{fa-icon "redo-alt"}}
      </button>
    {{/if}}
  </div>
  {{#if applyRetroactivelyCheckbox}}
    {{#if pattern.isNew}}
      <div class="retro-checkbox">
        <input checked={{pattern.retroactive}} type="checkbox" class="checkbox" onclick={{action "checkboxChanged" pattern}}>
        Apply retroactively
      </div>
    {{/if}}
  {{/if}}
  {{~#if pattern.error~}}
    <pre class="api-error">
      {{~pattern.error~}}
    </pre>
  {{~/if~}}
{{/each}}
